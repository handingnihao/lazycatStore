<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <style>
        body {
            width: 300px;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            margin: 0;
        }
        h1 {
            font-size: 18px;
            margin: 0 0 16px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .icon {
            width: 24px;
            height: 24px;
        }
        p {
            font-size: 14px;
            line-height: 1.6;
            margin: 8px 0;
        }
        .features {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 12px;
            margin: 16px 0;
        }
        .features h2 {
            font-size: 14px;
            margin: 0 0 8px 0;
        }
        .features ul {
            margin: 0;
            padding-left: 20px;
            font-size: 13px;
        }
        .features li {
            margin: 4px 0;
        }
        .footer {
            margin-top: 16px;
            padding-top: 12px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            font-size: 12px;
            text-align: center;
            opacity: 0.8;
        }
        a {
            color: white;
            text-decoration: underline;
        }
        .status {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            padding: 8px;
            margin: 12px 0;
            font-size: 13px;
        }
        .status.active {
            background: rgba(76, 175, 80, 0.3);
        }
        .api-warning {
            background: rgba(255, 193, 7, 0.2);
            border: 1px solid rgba(255, 193, 7, 0.5);
            border-radius: 4px;
            padding: 8px;
            margin: 12px 0;
            font-size: 12px;
            display: none;
        }
        .api-warning.show {
            display: block;
        }
    </style>
</head>
<body>
    <h1>
        <svg class="icon" viewBox="0 0 24 24" fill="white">
            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
        </svg>
        æ‡’çŒ« GitHub Stars
    </h1>
    
    <p>è‡ªåŠ¨åœ¨æ‡’çŒ«åº”ç”¨å•†åº—æ˜¾ç¤º GitHub é¡¹ç›®çš„ star æ•°é‡ã€‚</p>
    
    <div class="status active" id="status">
        æ’ä»¶çŠ¶æ€ï¼šâœ… å·²å¯ç”¨
    </div>
    
    <div class="api-warning" id="apiWarning">
        âš ï¸ æœªé…ç½® GitHub Token<br>
        <span style="font-size: 11px;">å³é”®æ’ä»¶å›¾æ ‡ â†’ é€‰é¡¹ è¿›è¡Œé…ç½®</span>
    </div>
    
    <div class="features">
        <h2>åŠŸèƒ½ç‰¹æ€§ï¼š</h2>
        <ul>
            <li>ğŸŒŸ è‡ªåŠ¨æ˜¾ç¤º GitHub star æ•°é‡</li>
            <li>ğŸ”± æ˜¾ç¤º fork æ•°é‡</li>
            <li>ğŸ’¾ æ™ºèƒ½ç¼“å­˜ï¼Œå‡å°‘ API è¯·æ±‚</li>
            <li>ğŸ”„ æ‰‹åŠ¨åˆ·æ–°æŒ‰é’®</li>
            <li>ğŸ“… æ˜¾ç¤ºæœ€åæ›´æ–°æ—¶é—´</li>
        </ul>
    </div>
    
    <div class="features">
        <h2>ä½¿ç”¨è¯´æ˜ï¼š</h2>
        <ul>
            <li>è®¿é—®æ‡’çŒ«åº”ç”¨è¯¦æƒ…é¡µ</li>
            <li>é¦–æ¬¡è®¿é—®è‡ªåŠ¨è·å–æ•°æ®</li>
            <li>ç‚¹å‡»åˆ·æ–°æŒ‰é’®æ›´æ–°æ•°æ®</li>
            <li>å³é”®æ’ä»¶å›¾æ ‡ â†’ é€‰é¡¹ é…ç½® Token</li>
        </ul>
    </div>
    
    <div class="footer">
        ç‰ˆæœ¬ 1.2.1 | 
        <a href="https://lazycat.cloud" target="_blank">æ‡’çŒ«åº”ç”¨å•†åº—</a>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // æ£€æŸ¥æ’ä»¶çŠ¶æ€
            chrome.storage.local.get(null, (items) => {
                let cacheCount = 0;
                for (const key in items) {
                    if (!key.startsWith('setting_') && key !== 'githubToken') {
                        cacheCount++;
                    }
                }
                
                if (cacheCount > 0) {
                    document.getElementById('status').innerHTML = 
                        `æ’ä»¶çŠ¶æ€ï¼šâœ… å·²å¯ç”¨<br>å·²ç¼“å­˜ ${cacheCount} ä¸ªåº”ç”¨`;
                }
            });
            
            // æ£€æŸ¥æ˜¯å¦é…ç½®äº†Token
            chrome.storage.sync.get(['githubToken'], (result) => {
                const apiWarning = document.getElementById('apiWarning');
                if (!result.githubToken) {
                    apiWarning.classList.add('show');
                } else {
                    apiWarning.style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>