name: 懒猫应用商店数据分析系统
package: cloud.lazycat.appstore.analyzer
version: 1.0.0
description: 专业的懒猫应用商店数据分析、管理和移植评估工具，帮助开发者快速找到适合移植的应用
author: 天天
homepage: https://github.com/tianxuejian/lazycat-appstore-analyzer
license: MIT
min_os_version: 1.3.5

application:
  subdomain: appstore-analyzer
  multi_instance: true
  background_task: false
  
  # OIDC配置 - 对接懒猫账户系统
  oidc_redirect_path: /auth/callback
  
  # 路由配置
  routes:
    - /=http://localhost:5000
  
  # 公开路径（不需要认证）
  public_path:
    - /api/health
    - /static/*
    - /favicon.ico
  
  # 文件关联 - 支持从网盘右键打开CSV文件
  file_handler:
    mime:
      - text/csv
      - application/vnd.ms-excel
      - application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
      - x-lzc-extension/csv
      - x-lzc-extension/xlsx
    actions:
      open: /import?file=%u
  
  # 环境变量
  environment:
    - DATABASE_PATH=/lzcapp/var/database/lazycat_apps.db
    - UPLOAD_PATH=/lzcapp/var/uploads
    - CONFIG_PATH=/lzcapp/var/config
    - FLASK_ENV=production
    - FLASK_PORT=5000
    - OIDC_CLIENT_ID=${LAZYCAT_AUTH_OIDC_CLIENT_ID}
    - OIDC_CLIENT_SECRET=${LAZYCAT_AUTH_OIDC_CLIENT_SECRET}
    - OIDC_AUTH_URI=${LAZYCAT_AUTH_OIDC_AUTH_URI}
    - OIDC_TOKEN_URI=${LAZYCAT_AUTH_OIDC_TOKEN_URI}
    - OIDC_USERINFO_URI=${LAZYCAT_AUTH_OIDC_USERINFO_URI}
    - OIDC_ISSUER=${LAZYCAT_AUTH_OIDC_ISSUER}
  
  # 健康检查
  health_check:
    test_url: http://localhost:5000/api/health
    start_period: 30s

# 扩展配置
ext_config:
  enable_document_access: true  # 访问用户文档目录
  enable_media_access: false

# 本地化配置
locales:
  zh-CN:
    name: 懒猫应用商店数据分析系统
    description: 专业的懒猫应用商店数据分析、管理和移植评估工具
  en-US:
    name: Lazycat AppStore Analyzer
    description: Professional data analysis and migration assessment tool for Lazycat AppStore